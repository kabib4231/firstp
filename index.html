<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask Example</title>
    <link rel="stylesheet" href="prabhas_css.css"> <!-- Link to your CSS file -->
    <script>
        async function fetchImage() {
            try {
                let response = await fetch('http://localhost:5000/', {
                    method: 'GET',
                });
                let blob = await response.blob();
                let url = URL.createObjectURL(blob);
                document.getElementById('blank-image').src = url;
            } catch (error) {
                console.error('Error fetching the image:', error);
            }
        }

        async function fetchVisitorCount() {
            try {
                let response = await fetch('http://localhost:5000/visitor_count', {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Basic ' + btoa('sadguru:isha143')
                    }
                });
                let text = await response.text();
                document.getElementById('visitor-count').innerText = text;
            } catch (error) {
                console.error('Error fetching the visitor count:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            fetchImage();
            fetchVisitorCount();
        });
    </script>
</head>
<body>
    <h1>Flask Example</h1>
    <h2>Blank Image:</h2>
    <img id="blank-image" alt="Blank Image" />
    <h2>Visitor Count:</h2>
    <p id="visitor-count">Loading...</p>
</body>
</html>

